# Test info

- Name: Signupæ©Ÿèƒ½ - UI/UXãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ >> 3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ†ã‚¹ãƒˆ >> SIGNUP-401: æ—¢å­˜ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã®ç™»éŒ²è©¦è¡Œ
- Location: /Users/zenichiro/Develop/github/study/nichehub-connect-jp/src/e2e/signup-ui-errors.spec.ts:268:5

# Error details

```
Error: expect(received).toMatch(expected)

Expected pattern: /ç™»éŒ²æ¸ˆã¿|already|æ—¢ã«ä½¿ç”¨/
Received string:  "ç™»éŒ²ã‚¨ãƒ©ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ: request rate limit reached"
    at /Users/zenichiro/Develop/github/study/nichehub-connect-jp/src/e2e/signup-ui-errors.spec.ts:289:44
```

# Page snapshot

```yaml
- heading "NicheHub" [level=1]
- heading "ã‚ãªãŸã®å°‚é–€åˆ†é‡ã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¸ã‚ˆã†ã“ã" [level=2]
- paragraph: NicheHubã¯ã€å°‚é–€åˆ†é‡ã”ã¨ã®ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚’æä¾›ã™ã‚‹SNSã§ã™ã€‚ ã‚ãªãŸã®é–¢å¿ƒã«åˆã‚ã›ãŸã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ã€çŸ¥è­˜ã‚’å…±æœ‰ã—ã€å°‚é–€å®¶ã¨ç¹‹ãŒã‚Šã¾ã—ã‚‡ã†ã€‚
- text: ğŸ’¼
- heading "Business" [level=3]
- paragraph: ãƒ“ã‚¸ãƒã‚¹æˆ¦ç•¥ã€ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã€èµ·æ¥­ã«ã¤ã„ã¦è­°è«–ã—ã‚ˆã†
- text: ğŸ¨
- heading "Art" [level=3]
- paragraph: ã‚¢ãƒ¼ãƒˆã€ãƒ‡ã‚¶ã‚¤ãƒ³ã€ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ãªè¡¨ç¾ã‚’å…±æœ‰ã—ã‚ˆã†
- text: ğŸ’»
- heading "Technology" [level=3]
- paragraph: ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã€é–‹ç™ºã€ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦èªã‚ã†
- heading "æ–°è¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²" [level=2]
- paragraph: æ•°åˆ†ã§ç°¡å˜ã«ç™»éŒ²ã§ãã¾ã™
- text: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
- textbox "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹": existing@example.com
- text: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
- textbox "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰": password123
- text: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰(ç¢ºèª)
- textbox "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰(ç¢ºèª)": password123
- text: ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼ˆä¸€æ„ã®IDï¼‰
- textbox "ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼ˆä¸€æ„ã®IDï¼‰": testuser123
- button "ç™»éŒ²"
- paragraph:
  - text: ã™ã§ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ã™ã‹ï¼Ÿ
  - button "ãƒ­ã‚°ã‚¤ãƒ³"
- region "Notifications (F8)":
  - list:
    - status:
      - text: "ç™»éŒ²ã‚¨ãƒ©ãƒ¼ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ: Request rate limit reached"
      - button:
        - img
```

# Test source

```ts
  189 |       // ä½•ã‚‰ã‹ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
  190 |       if (errorMessage) {
  191 |         expect(errorMessage.length).toBeGreaterThan(0);
  192 |       }
  193 |
  194 |       // ãƒˆãƒ¼ã‚¹ãƒˆãŒé‡è¤‡è¡¨ç¤ºã•ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèª
  195 |       const errorToasts = page.locator(SELECTORS.errorToast);
  196 |       const toastCount = await errorToasts.count();
  197 |       expect(toastCount).toBeLessThanOrEqual(3); // ä¸€èˆ¬çš„ãªãƒˆãƒ¼ã‚¹ãƒˆç®¡ç†ã§ã¯æœ€å¤§3ã¤ç¨‹åº¦
  198 |     });
  199 |   });
  200 |
  201 |   test.describe("4.3 ãƒ•ã‚©ãƒ¼ãƒ çŠ¶æ…‹ç®¡ç†", () => {
  202 |     test("SIGNUP-801: å…¥åŠ›å€¤ã®ä¿æŒç¢ºèª", async ({ page }) => {
  203 |       // 1. å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å€¤ã‚’å…¥åŠ›
  204 |       const testEmail = TEST_DATA.validEmail;
  205 |       const testPassword = TEST_DATA.validPassword;
  206 |       const testUsername = TEST_DATA.validUsername;
  207 |
  208 |       await signupHelper.fillSignupForm({
  209 |         email: testEmail,
  210 |         password: testPassword,
  211 |         confirmPassword: testPassword,
  212 |         username: testUsername,
  213 |       });
  214 |
  215 |       // 2. ãƒ­ã‚°ã‚¤ãƒ³â‡”ç™»éŒ²ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆ
  216 |       await signupHelper.switchToLoginMode();
  217 |       await signupHelper.switchToSignupMode();
  218 |
  219 |       // æœŸå¾…çµæœ
  220 |       // ãƒ»å…±é€šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆemail, passwordï¼‰ã®å€¤ãŒä¿æŒã•ã‚Œã‚‹
  221 |       expect(await signupHelper.getFieldValue(SELECTORS.emailInput)).toBe(
  222 |         testEmail
  223 |       );
  224 |       expect(await signupHelper.getFieldValue(SELECTORS.passwordInput)).toBe(
  225 |         testPassword
  226 |       );
  227 |
  228 |       // ãƒ»ç™»éŒ²å›ºæœ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯é©åˆ‡ã«è¡¨ç¤º/éè¡¨ç¤ºã•ã‚Œã‚‹
  229 |       await expect(page.locator(SELECTORS.usernameInput)).toBeVisible();
  230 |       await expect(page.locator(SELECTORS.confirmPasswordInput)).toBeVisible();
  231 |     });
  232 |
  233 |     test("SIGNUP-802: ãƒ•ã‚©ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ", async ({ page }) => {
  234 |       // æœ‰åŠ¹ãªãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›
  235 |       await signupHelper.fillSignupForm({
  236 |         email: TEST_DATA.validEmail,
  237 |         password: TEST_DATA.validPassword,
  238 |         confirmPassword: TEST_DATA.validPassword,
  239 |         username: TEST_DATA.validUsername,
  240 |       });
  241 |
  242 |       // ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚‹ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä¸ä¸€è‡´ï¼‰
  243 |       await signupHelper.fillSignupForm({
  244 |         confirmPassword: "different123",
  245 |       });
  246 |
  247 |       await signupHelper.clickSignupButton();
  248 |
  249 |       // 1. ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿå¾Œã®çŠ¶æ…‹ç¢ºèª
  250 |       await page.waitForTimeout(2000);
  251 |
  252 |       // æœŸå¾…çµæœ
  253 |       // ãƒ»ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿå¾Œã‚‚ãƒ•ã‚©ãƒ¼ãƒ å€¤ãŒä¿æŒã•ã‚Œã‚‹
  254 |       expect(await signupHelper.getFieldValue(SELECTORS.emailInput)).toBe(
  255 |         TEST_DATA.validEmail
  256 |       );
  257 |       expect(await signupHelper.getFieldValue(SELECTORS.usernameInput)).toBe(
  258 |         TEST_DATA.validUsername
  259 |       );
  260 |
  261 |       // ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå†å…¥åŠ›ã—ã‚„ã™ã„çŠ¶æ…‹
  262 |       const isSignupButtonEnabled = await signupHelper.isSignupButtonEnabled();
  263 |       expect(isSignupButtonEnabled).toBeTruthy();
  264 |     });
  265 |   });
  266 |
  267 |   test.describe("3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ†ã‚¹ãƒˆ", () => {
  268 |     test("SIGNUP-401: æ—¢å­˜ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã®ç™»éŒ²è©¦è¡Œ", async ({ page }) => {
  269 |       // 1. æ—¢ã«DBã«å­˜åœ¨ã™ã‚‹ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›
  270 |       await signupHelper.fillSignupForm({
  271 |         email: TEST_DATA.existingEmail,
  272 |         password: TEST_DATA.validPassword,
  273 |         confirmPassword: TEST_DATA.validPassword,
  274 |         username: TEST_DATA.validUsername,
  275 |       });
  276 |
  277 |       // 2. ä»–ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æœ‰åŠ¹å€¤ã‚’å…¥åŠ›ï¼ˆä¸Šè¨˜ã§å®Ÿè¡Œæ¸ˆã¿ï¼‰
  278 |
  279 |       // 3. ç™»éŒ²ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
  280 |       await signupHelper.clickSignupButton();
  281 |
  282 |       // æœŸå¾…çµæœ
  283 |       await page.waitForTimeout(5000); // ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å‡¦ç†ã‚’å¾…æ©Ÿ
  284 |
  285 |       const errorMessage = await signupHelper.getErrorToastMessage();
  286 |
  287 |       if (errorMessage) {
  288 |         // ãƒ»"ã“ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯æ—¢ã«ç™»éŒ²æ¸ˆã¿ã§ã™"ã‚¨ãƒ©ãƒ¼ãƒˆãƒ¼ã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
> 289 |         expect(errorMessage.toLowerCase()).toMatch(/ç™»éŒ²æ¸ˆã¿|already|æ—¢ã«ä½¿ç”¨/);
      |                                            ^ Error: expect(received).toMatch(expected)
  290 |
  291 |         // ãƒ»error.message="User already registered"
  292 |         // æ³¨æ„: å®Ÿéš›ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯å®Ÿè£…ã«ã‚ˆã£ã¦ç•°ãªã‚‹
  293 |       }
  294 |     });
  295 |
  296 |     test("SIGNUP-402: æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼åã§ã®ç™»éŒ²è©¦è¡Œ", async ({ page }) => {
  297 |       // 1. æ—¢ã«DBã«å­˜åœ¨ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’å…¥åŠ›
  298 |       await signupHelper.fillSignupForm({
  299 |         email: TEST_DATA.validEmail,
  300 |         password: TEST_DATA.validPassword,
  301 |         confirmPassword: TEST_DATA.validPassword,
  302 |         username: TEST_DATA.existingUsername,
  303 |       });
  304 |
  305 |       // 2. ä»–ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æœ‰åŠ¹å€¤ã‚’å…¥åŠ›ï¼ˆä¸Šè¨˜ã§å®Ÿè¡Œæ¸ˆã¿ï¼‰
  306 |
  307 |       // 3. ç™»éŒ²ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
  308 |       await signupHelper.clickSignupButton();
  309 |
  310 |       // æœŸå¾…çµæœ
  311 |       await page.waitForTimeout(5000); // ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å‡¦ç†ã‚’å¾…æ©Ÿ
  312 |
  313 |       const errorMessage = await signupHelper.getErrorToastMessage();
  314 |
  315 |       if (errorMessage) {
  316 |         // ãƒ»"ã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯æ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™"ã‚¨ãƒ©ãƒ¼ãƒˆãƒ¼ã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
  317 |         expect(errorMessage.toLowerCase()).toMatch(
  318 |           /ãƒ¦ãƒ¼ã‚¶ãƒ¼å|username|æ—¢ã«ä½¿ç”¨/
  319 |         );
  320 |
  321 |         // ãƒ»error.message="Username already exists"
  322 |         // æ³¨æ„: å®Ÿéš›ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯å®Ÿè£…ã«ã‚ˆã£ã¦ç•°ãªã‚‹
  323 |       }
  324 |     });
  325 |
  326 |     test("SIGNUP-501: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼æ™‚ã®å‡¦ç†", async ({ page }) => {
  327 |       // 1. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’åˆ‡æ–­ã—ãŸçŠ¶æ…‹
  328 |       await simulateNetworkCondition(page, true); // ã‚ªãƒ•ãƒ©ã‚¤ãƒ³çŠ¶æ…‹
  329 |
  330 |       // 2. æœ‰åŠ¹ãªãƒ‡ãƒ¼ã‚¿ã§ç™»éŒ²è©¦è¡Œ
  331 |       const testData = generateRandomTestData();
  332 |       await signupHelper.fillSignupForm({
  333 |         email: testData.email,
  334 |         password: testData.password,
  335 |         confirmPassword: testData.password,
  336 |         username: testData.username,
  337 |       });
  338 |
  339 |       await signupHelper.clickSignupButton();
  340 |
  341 |       // æœŸå¾…çµæœ
  342 |       await page.waitForTimeout(5000);
  343 |
  344 |       // ãƒ»"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  345 |       const errorMessage = await signupHelper.getErrorToastMessage();
  346 |       if (errorMessage) {
  347 |         expect(errorMessage.toLowerCase()).toMatch(
  348 |           /network|ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯|connection/
  349 |         );
  350 |       }
  351 |
  352 |       // ãƒ»ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ãŒè§£é™¤ã•ã‚Œã‚‹
  353 |       expect(await signupHelper.isLoading()).toBeFalsy();
  354 |
  355 |       // ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’å¾©æ—§
  356 |       await simulateNetworkCondition(page, false);
  357 |     });
  358 |
  359 |     test.skip("SIGNUP-502: Supabaseã‚µãƒ¼ãƒ“ã‚¹åœæ­¢æ™‚ã®å‡¦ç†", async ({ page }) => {
  360 |       // æ³¨æ„: ã“ã®ãƒ†ã‚¹ãƒˆã¯å®Ÿéš›ã®ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã™ã‚‹ãŸã‚ã€
  361 |       // é€šå¸¸ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã§ã¯ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™
  362 |       // 1. SupabaseãŒåˆ©ç”¨ã§ããªã„çŠ¶æ…‹
  363 |       // 2. æœ‰åŠ¹ãªãƒ‡ãƒ¼ã‚¿ã§ç™»éŒ²è©¦è¡Œ
  364 |       // æœŸå¾…çµæœ:
  365 |       // ãƒ»"ã‚µãƒ¼ãƒ“ã‚¹ä¸€æ™‚åœæ­¢"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  366 |       // ãƒ»é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  367 |     });
  368 |   });
  369 |
  370 |   test.describe("ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ", () => {
  371 |     test("SIGNUP-1101: SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–", async ({ page }) => {
  372 |       // 1. usernameã«"'; DROP TABLE profiles; --"ã‚’å…¥åŠ›
  373 |       await signupHelper.fillSignupForm({
  374 |         email: TEST_DATA.validEmail,
  375 |         password: TEST_DATA.validPassword,
  376 |         confirmPassword: TEST_DATA.validPassword,
  377 |         username: TEST_DATA.sqlInjection,
  378 |       });
  379 |
  380 |       // 2. ç™»éŒ²è©¦è¡Œ
  381 |       await signupHelper.clickSignupButton();
  382 |
  383 |       // æœŸå¾…çµæœ
  384 |       await page.waitForTimeout(3000);
  385 |
  386 |       // ãƒ»æ”»æ’ƒãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹
  387 |       // ãƒ»æ­£å¸¸ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  388 |       // ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«å½±éŸ¿ãªã—
  389 |
```